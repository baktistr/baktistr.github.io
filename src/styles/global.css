@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  /* Default is dark mode, light mode when .light class is present */
  body {
    @apply bg-slate-950 text-slate-100 antialiased;
    font-family: 'Inter', system-ui, sans-serif;
  }

  html.light body {
    @apply bg-slate-50 text-slate-900;
  }
}

@layer components {
  .prose {
    @apply max-w-none;
  }

  .prose h1 {
    @apply text-3xl font-bold mt-8 mb-4 text-slate-100;
  }
  html.light .prose h1 {
    @apply text-slate-900;
  }

  .prose h2 {
    @apply text-2xl font-bold mt-8 mb-4 text-slate-100;
  }
  html.light .prose h2 {
    @apply text-slate-900;
  }

  .prose h3 {
    @apply text-xl font-bold mt-8 mb-4 text-slate-100;
  }
  html.light .prose h3 {
    @apply text-slate-900;
  }

  .prose p {
    @apply mb-4 leading-relaxed text-slate-300;
  }
  html.light .prose p {
    @apply text-slate-700;
  }

  .prose a {
    @apply text-cyan-400 underline underline-offset-2 decoration-cyan-400/30 hover:decoration-cyan-400 transition-colors;
  }
  html.light .prose a {
    @apply text-cyan-600 decoration-cyan-600/30 hover:decoration-cyan-600;
  }

  .prose ul,
  .prose ol {
    @apply mb-4 ml-6 list-disc text-slate-300;
  }
  html.light .prose ul,
  html.light .prose ol {
    @apply text-slate-700;
  }

  .prose ol {
    @apply list-decimal;
  }

  .prose li {
    @apply mb-2;
  }

  .prose code {
    @apply px-1.5 py-0.5 rounded text-sm font-mono bg-slate-900/50 text-cyan-400 border border-slate-800;
  }
  html.light .prose code {
    @apply bg-slate-100 text-cyan-600 border-slate-200;
  }

  .prose pre {
    @apply mb-4 p-4 rounded-lg overflow-x-auto bg-slate-900 border border-slate-800;
  }
  html.light .prose pre {
    @apply bg-slate-100 border-slate-200;
  }

  .prose pre code {
    @apply p-0 bg-transparent border-0;
  }

  .prose blockquote {
    @apply mb-4 pl-4 border-l-4 border-cyan-400 italic text-slate-400;
  }
  html.light .prose blockquote {
    @apply border-cyan-600 text-slate-600;
  }

  .prose img {
    @apply rounded-lg my-4;
  }

  .prose table {
    @apply w-full mb-4 border-collapse;
  }

  .prose th,
  .prose td {
    @apply px-4 py-2 border border-slate-800 text-left text-slate-300;
  }
  html.light .prose th,
  html.light .prose td {
    @apply border-slate-200 text-slate-700;
  }

  .prose th {
    @apply font-semibold bg-slate-900/50;
  }
  html.light .prose th {
    @apply bg-slate-200;
  }
}

/* Shiki dual theme support - outside @layer for proper specificity */
.astro-code {
  background-color: var(--shiki-dark-bg) !important;
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
}

.astro-code code {
  background-color: transparent !important;
  border: none !important;
  padding: 0 !important;
}

.astro-code,
.astro-code span {
  color: var(--shiki-dark) !important;
}

html.light .astro-code {
  background-color: var(--shiki-light-bg) !important;
}

html.light .astro-code,
html.light .astro-code span {
  color: var(--shiki-light) !important;
}
